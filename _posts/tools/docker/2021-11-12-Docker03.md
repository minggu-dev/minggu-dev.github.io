---
layout: post
title:  "Docker 설치 및 컨테이너 생성"
date:   2021-11-12 17:55:18 +0900
categories: Tools
tags: Docker
---
# Introduction
<hr>

![소개 글 이미지](/img/tools/Docker/docker-logo.png)
>
#### 도커에 대하여 어느정도 알아보았으니 이제 도커를 직접 설치하고 컨테이너를 생성 및 실행하는 방법에 대해 알아볼 것이다. 이 글에선 윈도우 에서 도커를 설치하고 실행하는 방법에 대해 다루도록 하겠다.


<br>
<br>



# 도커 설치
<hr>

도커를 설치하기에 앞서 우선 가상화 기술인 Hyper-V가 활성화 되어 있는지를 봐야한다.
![윈도우 가상화](/img/tools/Docker/windows_Hyper-V.jpg)

위의 그림처럼 사용으로 되어있는지 확인을 한다. 안되어 있으면 BIOS에서 사용함으로 설정 해야한다.(보드마다 다를 수 있으니 자신의 보드에 맞는 설명을 검색해보자.)

Hyper-V를 켜줬으면 다음으로 제어판 -> 프로그램 및 기능 -> Windows 기능 켜기/끄기로 들어가 Hyper-V에 체크가 되어있는지 확인하고 체크가 되어있지 않으면 체크를 하고 끈다.
![Hyper-V](/img/tools/Docker/Hyper-V02.jpg)

윈도우에서 도커를 사용하기 위해선 [Docker for windows](https://docs.docker.com/desktop/windows/install)를 설치하면 된다. 다운로드 후 설치파일을 통해 설치를 하고나면 재부팅 후 도커가 깔려있는 것을 볼 수 있다.

**--- 참고 ---**

만약 도커를 실행했는데 다음과 같은 메세지가 나올 경우 메세지에 나와있는 링크로 이동하여 패키지를 다운받아주면 된다.

![에러](/img/tools/Docker/error01.jpg)
![해결](/img/tools/Docker/error01_solve.jpg)

**Docker hub**

도커에서 컨테이너를 생성하기 위해 이미지파일을 두게 되는데 이 이미지 파일의 용량이 수백메가에서 수기가에 이르기까지 적지 않은 용량을 차지하게 된다. 도커는 Docker hub를 통해 이러한 이미지를 무료로 관리하게 도와주는 역할을 한다.

Docker hub의 사용법에 대해선 다음에 다루도록 하겠다.


<br>
<br>

# 도커 실행
<hr>

먼저 도커를 정상적으로 설치되었는지 확인하려면 명령프롬프트에 `docker version`을 입력하여 정상적으로 버전 정보가 나온다면 정상적으로 설치된 것이라 볼 수 있다.

정상적으로 도커가 설치되었다면 이제 도커 명령어를 통해 컨테이너를 생성 및 실행시켜보자! 도커를 실행하는 명령어는 기본적으로 `docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG...]` 이러한 형태를 갖는다. 이 글에서는 가장 기본적인 명령어를 통해 도커를 실행해 보겠다.

![도커 실행 명령어](/img/tools/Docker/docker_run01.jpg)
`docker run centos:latest`
<br>
명령어에서 눈치챘듯이 centos컨테이너를 실행시키기 위한 명령어이다. 사진을 보면 centos이미지가 없기 때문에 이미지를 다운로드 받은 후 컨테이너를 실행하게 된다. 하지만 명령어에서 무엇을 하라는 명령어를 입력하지 않아 컨테이너는 실행되고나서 바로 종료되게 되는데 컨테이너는 프로세스이기 때문에 실행중인 프로세스가 없으면 종료된다.

그렇다면 `/bin/bash` 명령어를 붙여주어 bash쉘을 실행시켜보겠다. bash쉘을 실행시키면서 키보드 입력을 받기 위해서 `-it`옵션을 추가하고 프로세스가 종료되면 자동으로 컨테이너가 삭제될 수 있도록 `--rm`옵션도 같이 두겠다.

![도커 실행 명령어2](/img/tools/Docker/docker_run02.jpg)
`docker run --rm -it centos:latest /bin/bash`
<br>
다음의 명령어를 통해 centos컨테이너에서 bash쉘을 실행시켜 보았다. 위에서 이미 centos이미지를 받아왔었기 때문에 이번 명령어에서는 추가적으로 이미지를 다운받지 않고 기존의 이미지를 그대로 사용하여 컨테이너를 실행하게 된다. `exit`명령어를 통해 bash쉘을 종료시키면 실행중인 프로세스가 종료되어 컨테이너도 같이 종료되는 모습도 볼 수 있다.


<br>
<br>



# 마무리
<hr>

#### 이번 글에서 도커에서 사용하는 용어에 대해 몇 가지 알아보았다. 아직 더 많이 알아야 할 용어들이 있지만 그건 이후에 포스팅하며 그때마다 설명하도록 하겠다. 다음 글에서는 도커를 설치하고 직접 이미지를 받아 컨테이너를 하나 생성 및 실행해보는 글을 다루도록 하겠다.



<br>
<br>
<br>
<br>






**이제 막 알아가는 단계인 초보이므로 오류나 잘못된 점이 있다면 지적해주시면 감사합니다! 🥰**
